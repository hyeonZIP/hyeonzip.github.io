---
title: OSI 7Layer
date: "2025-02-03T22:13:04.284Z"
thumbnail:
tag: OSI 7계층
series: cs
---

# 그래서 OSI 모델이 왜 중요한데?
나는 항상 무언가를 배울 때, 어디에 쓰이는지, 쓸모가 있는지를 머리속에서 이해를 해야 머리속에 오래 남아서 먼저 중요한 이유를 찾아보았다.

[클라우드 솔루션을 제공하는 사이트](https://www.cloudflare.com/ko-kr/learning/ddos/glossary/open-systems-interconnection-model-osi/)에 적혀있는 정보라 그런지 신뢰감이 팍팍 들었다.

결국 서비스 중인 사이트가 먹통이 되었을 때, 빠르게 문제를 분석하고 문제의 원인을 분리하여 해결할 수 있도록 각 계층을 나타낸 것이다.

현재 OSI 7Layer는 잘 쓰이지 않고 TCP/IP 4Layer가 많이 쓰인다고 하지만   
결국 TCP/IP 4Layer도 OSI 7Layer를 좀 더 실무적이게 단순화된 모델이다 보니
하나를 자세히 알면 나머지도 쉽게 이해할 수 있다.

이해할 때 스토리로 이해하면 편하다.
# OSI 7계층
## 7L 애플리케이션 계층(Application Layer)
>사용자의 데이터와 직접 상호작용하는 계층이다.

>하지만 상호 작용한다고 클라이언트 소프트웨어 애플리케이션이 7계층인 것은 아니다.

>정확히는 소프트웨어가 의존하는 프로토콜과 데이터를 조작하는 것이 7계층이다.

## 6L 표현 계층(Presentaion Layer)

>6계층은 7계층이 사용할 수 있도록 데이터를 표현해준다.

>정확히는 데이터의 변환, 암호화, 압축을 담당한다.

>7계층이 이해할 수 있는 구문으로 변환하고

>암호화된 연결을 통해 통신하는 경우, 암호화를 추가하거나 디코딩한다.

>마지막으로 5계층으로 데이터를 압축하여 속도와 효율을 높여준다.

## 5L 세션 계층(Session Layer)

>먼저 세션이란 통신이 시작부터 종료까지의 시간을 뜻 한다.

>따라서 세션 계층이란 통신을 시작하고 종료하는 일을 담당하며

>교환되고 있는 모든 데이터를 전송할 수 있도록 세션을 개방하고

>리소스 낭비를 방지하기위한 작업 완료 시 세션을 즉시 닫도록 보장한다.

>또한 데이터 전송을 체크포인트와 동기화한다.

>쉽게 말해 우리가 게임 패치 파일을 90%까지 받다가 정전이 나도

>다시 패치를 시작하면 90%부터 시작할 수 있도록 마지막 체크 포인트부터 다시 데이터를 전송하게 해준다.

## 4L 전송 계층(Transport Layer)

>먼저 이 계층이 무엇인가를 보기전에 가장 큰 특징인 분할하는 데이터 크기에 대해 알고 가자.

>5계층으로부터 받은 데이터를 세그먼트로 분할하여 3계층으로 전송한다.

>3계층으로부터 받은 패킷을 세그먼트로 재조립하여 5계층으로 전송한다.

>그리고 흐름 제어와 오류 제어를 담당한다.

>흐름 제어는 서로 다른 전송 속도를 제어하여 최적의 속도로 제어하고

>오류 제어는 수신된 데이터가 완료되었는지 확인하고 수신되지 않은 경우 재전송을 요청한다.

>이는 TCP의 특성과 많이 닮았지만 관련된 내용은 이후에 다룬다.

>4계층 프로토콜에는 TCP와 UDP가 있다.

## 3L 네트워크 계층(Network Layer)

>4계층으로부터 받은 세그먼트를 패킷으로 분리하여 2계층으로 전송한다.

>2계층으로부터 받은 프레임을 패킷으로 재조립하여 4계층으로 전송한다.

>그리고 가장 큰 특징인 라우팅이 나온다.

>데이터가 표적에 도달하기 위해 최상의 물리적 경로를 찾도록 하는 것이다.

>인트라 네트워크 통신에서 흐름 제어와 오류 제어를 담당한다.

>3계층 프로토콜에는 IP, ICMP, IGMP, IPsec

## 2L 데이터 연결 계층(The Data Link Layer)

>3계층으로부터 받은 패킷을 프레임으로 분할하여 1계층으로 전송한다.

>1계층으로부터 받은 프레임을 패킷으로 재조립하여 3계층으로 전송한다.

>인트라 네트워크 통신에서 흐름 제어와 오류 제어를 담당한다.

>(전송 계층은 네트워크 간 통신에 대해서만 흐름 제어 및 오류 제어만을 담당)

## 1L 물리적 계층(The Physical Layer)

>2계층으로부터 받은 프레임을 0과 1인 비트 스트림으로 변환하여 케이블을 통해 수신자에게 이동한다.

>물리적이란 말 그대로 케이블이나 스위치 등 데이터 전송과 관련된 물리적 장비를 말한다.

>7계층 부터 1계층 순으로 내려오는 과정은 송신자의 입장이고,

>1계층 부터 7계층 순으로 올라가는 과정은 수신자의 입장이 되는 것 이다.

# TCP/IP 4계층
## 4L 응용 계층(Application Layer)
>OSI 7~5계층의 기능을 담당한다.

>사용자의 데이터를 다루고(7),    
>데이터를 압축해서 전송하거나 압축을 풀어서 표현하거나(6),   
>데이터를 전송할 수 있도록 세션을 유지하고 닫는 역할을 한다(5).

>4계층의 프로토콜은 DNS, SNMP, FTP, TFTP, HTTP가 있다.

## 3L 전송 계층(Transport Layer)
>OSI 4계층의 기능을 담당한다.

>TCP/UDP를 담당하는 계층이다.

>TCP는 IP 위에서 동작하는 프로토콜로, 데이터의 전달을 보증하고 순서대로 받게 해주고 재요청을 할 수 있다.

>반대로 UDP는 TCP보다 빠르지만 데이터가 잘 도착했는지 보증하지 않는다. 그래서 빠르다.

## 2L 인터넷 계층(Internet Layer)
>OSI 3계층의 기능을 담당한다.

>IP를 담당하는 계층이다.

>IP를 사용하여 라우팅의 역할을 한다.

>*TCP/IP의 나누기 기호의 뜻은 TCP는 IP위에 군림한다? 라는 뜻으로   
>애초에 탄생 목적이 IP의 단점을 보완하기위해 등장한 것이 TCP이다.

>따라서 TCP는 데이터의 도착을 보증하지만 IP는 그렇지 않고 경로를 빨리 설정하여 보내는 것이 목적이다.

>2계층의 프로토콜은 IP, ICMP, ARP, RARP가 있다.

## 1L 네트워크 계층(Network Layer)
>OSI 2~1계층의 기능을 담당한다.

>알맞은 하드웨어로 데이터가 전달되도록 MAC주소를 핸들링 하고,    
>데이터 패킷을 비트 스트림으로 변환하여 케이블로 전달할 수 있도록 준비한다.

# TTL(Time-to-Live)
>정보 패킷을 생성하여 인터넷을 통해 전송했다.   
>이러한 패킷은 라우터에서 라우터로 이동을 하는데    
>가끔 라우터에서 라우터로 무한히 순환할 수 있다.    

>이런 경우를 대비해서 일종의 자폭타이머를 만든 것이 TTL이다.

>패킷이 라우터에 의해 폐기될 때 까지 네트워크 내부에 존재하도록 설정한 시간,   
>또는 "홉"의 양 이라고 한다.

# L4 스위치(로드 밸런싱)

여러대의 서버를 1대처럶 묶을 수 있는 부하 분산(Load Balancing)기능 제공
웹 트래픽, FTP 트래픽과 같이 정해진 서비스 포트를 보고 트래픽을 스위칭해주는 장비

주로 tcp/udp port 정보를 가지고 스위칭을 한다
이때 발생하는 부하를 분산한다.

분산 방법
라운드 로빈, 최소 연결, 해시

# L3 스위치(라우터)

IP주소로 목적지를 찾는다
L2 스위치에 라우팅 기능이 추가된 스위치

# L2 스위치

데이터를 전달하는 목적지를 정할 수 있음
MAC주소로 목적지를 찾는다.